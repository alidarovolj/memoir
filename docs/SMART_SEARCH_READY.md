# üéâ Smart Content Search - –ì–û–¢–û–í–û!

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

### Backend (100%)
- ‚úÖ AI Intent Detection (GPT-4o-mini)
- ‚úÖ External Search Service (TMDB, Google Books, Google Custom Search)
- ‚úÖ Universal Search Service (—É–º–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞)
- ‚úÖ API endpoints `/api/v1/smart-search/smart-search` –∏ `/content-details`
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞: movie, book, product, place, idea, task

### Flutter (100%)
- ‚úÖ Smart Search Modal (–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–∏—Å–∫–∞)
- ‚úÖ Content Result Card (–∫—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Create Memory Page
- ‚úÖ –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
- ‚úÖ Rich metadata extraction (—Ä–µ–∂–∏—Å—Å–µ—Ä, –∞–∫—Ç–µ—Ä—ã, —Ä–µ–π—Ç–∏–Ω–≥, –∏ —Ç.–¥.)

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ API –∫–ª—é—á–∏

–û—Ç–∫—Ä–æ–π—Ç–µ `/backend/.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```bash
# –ú–∏–Ω–∏–º—É–º –¥–ª—è MVP:
TMDB_API_KEY=your-tmdb-key-here           # –§–∏–ª—å–º—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
GOOGLE_SEARCH_KEY=your-google-key         # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫
GOOGLE_SEARCH_CX=your-search-engine-id    # ID –ø–æ–∏—Å–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:
GOOGLE_BOOKS_KEY=your-books-key           # –ö–Ω–∏–≥–∏
SPOONACULAR_KEY=your-spoonacular-key      # –†–µ—Ü–µ–ø—Ç—ã
```

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é –∫–ª—é—á–µ–π:** —Å–º. `EXTERNAL_API_SETUP.md`

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

```bash
cd backend
docker compose restart backend celery_worker
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
flutter run
```

---

## üé¨ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –ü—Ä–∏–º–µ—Ä 1: –§–∏–ª—å–º "–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä"

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç "–°–æ–∑–¥–∞—Ç—å –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ"
2. –í–≤–æ–¥–∏—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫: "–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä"
3. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üåü –ò—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç"
4. AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç ‚Üí intent: `movie`
5. –ü–æ–∏—Å–∫ –≤ TMDB ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç —Ñ–∏–ª—å–º —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É
7. –§–æ—Ä–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è:
   - **–ó–∞–≥–æ–ª–æ–≤–æ–∫:** –ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä
   - **–û–ø–∏—Å–∞–Ω–∏–µ:** 
     ```
     –ò—Å—Ç–æ—Ä–∏—è –æ –≥—Ä—É–ø–ø–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π...
     
     üé¨ –†–µ–∂–∏—Å—Å–µ—Ä: Christopher Nolan
     üé≠ –ê–∫—Ç–µ—Ä—ã: Matthew McConaughey, Anne Hathaway, Jessica Chastain
     üìÖ –ì–æ–¥: 2014
     ‚≠ê –†–µ–π—Ç–∏–Ω–≥: 8.6
     üé≠ –ñ–∞–Ω—Ä—ã: Adventure, Drama, Science Fiction
     ```

### –ü—Ä–∏–º–µ—Ä 2: –¢–æ–≤–∞—Ä "–ù–∞–¥–æ –∫—É–ø–∏—Ç—å –±—Ä–µ–ª–æ–∫"

1. –í–≤–æ–¥–∏—Ç: "–ù–∞–¥–æ –∫—É–ø–∏—Ç—å –±—Ä–µ–ª–æ–∫"
2. –ù–∞–∂–∏–º–∞–µ—Ç "üåü –ò—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç"
3. AI ‚Üí intent: `product`
4. Google Custom Search ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç —Ç–æ–≤–∞—Ä—ã —Å —Ñ–æ—Ç–æ –∏ —Ü–µ–Ω–∞–º–∏
5. –í—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç
6. –§–æ—Ä–º–∞ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å —Å—Å—ã–ª–∫–æ–π –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º

### –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–æ—Å—Ç–∞—è –∏–¥–µ—è

1. –í–≤–æ–¥–∏—Ç: "–ò–¥–µ—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞–ø–∞ –ø–æ –¥–æ—Å—Ç–∞–≤–∫–µ –µ–¥—ã"
2. AI ‚Üí intent: `idea`, needs_search: `false`
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "–î–ª—è –∏–¥–µ–π –ø–æ–∏—Å–∫ –Ω–µ –Ω—É–∂–µ–Ω, –ø—Ä–æ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ"
4. –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Å—Ç—É—é —Ç–µ–∫—Å—Ç–æ–≤—É—é –∑–∞–º–µ—Ç–∫—É

---

## üî• Killer Features:

### 1. AI Intent Detection
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –Ω–∞–π—Ç–∏:
- "–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä" ‚Üí —Ñ–∏–ª—å–º
- "1984" ‚Üí –∫–Ω–∏–≥–∞
- "–ö—É–ø–∏—Ç—å –±—Ä–µ–ª–æ–∫" ‚Üí —Ç–æ–≤–∞—Ä
- "–ò–¥–µ—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞–ø–∞" ‚Üí –ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ—Ç–∫–∞ (–±–µ–∑ –ø–æ–∏—Å–∫–∞)

### 2. Rich Cards
–ö—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å:
- –ü–æ—Å—Ç–µ—Ä–∞–º–∏/–æ–±–ª–æ–∂–∫–∞–º–∏
- –†–µ–π—Ç–∏–Ω–≥–∞–º–∏
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (—Ä–µ–∂–∏—Å—Å–µ—Ä, –∞–∫—Ç–µ—Ä—ã, –≥–æ–¥)
- –ò—Å—Ç–æ—á–Ω–∏–∫–æ–º –¥–∞–Ω–Ω—ã—Ö (TMDB, Google Books, Web)

### 3. Smart Auto-fill
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º:
- –≠–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ external_id –¥–ª—è future features

### 4. Universal Fallback
–ï—Å–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–µ –Ω–∞—à–µ–ª ‚Üí Google Custom Search –∏—â–µ—Ç –≤–µ–∑–¥–µ!

---

## üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞:

| –¢–∏–ø | Intent | –ò—Å—Ç–æ—á–Ω–∏–∫ | –°—Ç–∞—Ç—É—Å |
|-----|--------|----------|--------|
| üé¨ –§–∏–ª—å–º—ã/–°–µ—Ä–∏–∞–ª—ã | `movie` | TMDB | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| üìö –ö–Ω–∏–≥–∏ | `book` | Google Books | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| üõçÔ∏è –¢–æ–≤–∞—Ä—ã | `product` | Google Search | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| üìç –ú–µ—Å—Ç–∞ | `place` | Google Search | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| üç≥ –†–µ—Ü–µ–ø—Ç—ã | `recipe` | Spoonacular (optional) | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∫–ª—é—á |
| üí° –ò–¥–µ–∏ | `idea` | - | ‚úÖ –ë–µ–∑ –ø–æ–∏—Å–∫–∞ |
| ‚úÖ –ó–∞–¥–∞—á–∏ | `task` | - | ‚úÖ –ë–µ–∑ –ø–æ–∏—Å–∫–∞ |

---

## üé® UI/UX Features:

### Smart Search Modal
- Draggable bottom sheet (–º–æ–∂–Ω–æ —Ç—è–Ω—É—Ç—å)
- Real-time –ø–æ–∏—Å–∫ —Å debounce (500ms)
- AI intent badge (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –æ–±–Ω–∞—Ä—É–∂–∏–ª AI)
- Confidence indicator (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å AI)
- Empty states –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- Loading states

### Content Result Card
- Image preview (–ø–æ—Å—Ç–µ—Ä/–æ–±–ª–æ–∂–∫–∞)
- Badges (–∏—Å—Ç–æ—á–Ω–∏–∫, –≥–æ–¥, —Ä–µ–π—Ç–∏–Ω–≥)
- Truncated description (3 —Å—Ç—Ä–æ–∫–∏)
- Director/Authors highlight
- Tap to select ‚Üí auto-fill

### Create Memory Page
- "üåü –ò—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç" –∫–Ω–æ–ø–∫–∞ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
- Hint card (–ø–æ–¥—Å–∫–∞–∑–∫–∞ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)
- Auto-filled form –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞
- Success snackbar —Å —ç–º–æ–¥–∑–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### 1. –ë–µ–∑ API –∫–ª—é—á–µ–π
- AI intent detection —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- –ü–æ–∏—Å–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)
- –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é –∑–∞–º–µ—Ç–∫—É

### 2. –¢–æ–ª—å–∫–æ —Å TMDB
- –§–∏–ª—å–º—ã –∏—â—É—Ç—Å—è –æ—Ç–ª–∏—á–Ω–æ ‚úÖ
- –û—Å—Ç–∞–ª—å–Ω–æ–µ ‚Üí fallback –∏–ª–∏ –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### 3. –° TMDB + Google Search
- **–ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª!** üî•
- –§–∏–ª—å–º—ã, –∫–Ω–∏–≥–∏, —Ç–æ–≤–∞—Ä—ã, –º–µ—Å—Ç–∞ - –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üö® Troubleshooting:

### "–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏ –≤ `.env`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend: `docker compose restart backend`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker compose logs backend`

### "AI –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `OPENAI_API_KEY` –≤ `.env`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–≤–æ—Ç—É –Ω–∞ OpenAI: https://platform.openai.com/usage

### "Images –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è"
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
2. TMDB images —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ CDN (https://image.tmdb.org/)
3. –î–ª—è production –Ω—É–∂–µ–Ω CORS –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö images

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å (–ø—Ä–∏–º–µ—Ä–Ω–∞—è):

### –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ª–∏–º–∏—Ç—ã:
- **TMDB:** 500,000 requests/day ‚úÖ
- **Google Books:** unlimited (with rate limits) ‚úÖ
- **Google Custom Search:** 100 queries/day ‚úÖ
- **OpenAI (MVP):** ~$1 –Ω–∞ 10,000 –æ–ø–µ—Ä–∞—Ü–∏–π ‚úÖ

### –ü–æ—Å–ª–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è:
- **Google Custom Search:** $5 –∑–∞ 1000 –∑–∞–ø—Ä–æ—Å–æ–≤
- **Spoonacular:** $0.002 –∑–∞ –∑–∞–ø—Ä–æ—Å
- **OpenAI:** –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –ø–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é

**–î–ª—è MVP —Ö–≤–∞—Ç–∏—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤!** üéâ

---

## üîÆ Next Steps:

### Phase 2 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
1. ‚ú® Recipe search (Spoonacular)
2. üìç Better places (Google Places API –≤–º–µ—Å—Ç–æ Custom Search)
3. üñºÔ∏è Image upload –¥–ª—è smart search
4. üéôÔ∏è Voice input ‚Üí smart search
5. üîó Auto-fetch metadata from URL paste

### Phase 3:
1. üìä Analytics (–∫–∞–∫–∏–µ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã)
2. ü§ñ AI suggestions (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ—Ö–æ–∂–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
3. üîÑ Auto-update metadata (–µ—Å–ª–∏ —Ñ–∏–ª—å–º –ø–æ–ª—É—á–∏–ª –Ω–æ–≤—ã–π —Ä–µ–π—Ç–∏–Ω–≥)

---

## üéä –†–µ–∑—É–ª—å—Ç–∞—Ç:

**Memoir —Ç–µ–ø–µ—Ä—å —É–º–µ–µ—Ç:**
- üß† –ü–æ–Ω–∏–º–∞—Ç—å intent –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ AI
- üîç –ò—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –≤–æ –≤—Å–µ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
- üé® –°–æ–∑–¥–∞–≤–∞—Ç—å –∫—Ä–∞—Å–∏–≤—ã–µ rich cards
- ‚ú® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è—Ç—å —Ñ–æ—Ä–º—ã
- üíæ –°–æ—Ö—Ä–∞–Ω—è—Ç—å –±–æ–≥–∞—Ç—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

**–≠—Ç–æ killer feature, –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç –≤ –¥—Ä—É–≥–∏—Ö note-taking –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö!** üöÄ

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø—Ä–æ –ª—é–±–∏–º—ã–π —Ñ–∏–ª—å–º –∏–ª–∏ –∫–Ω–∏–≥—É! üé¨üìö

