# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å SMS Traffic

## ‚ö†Ô∏è iOS Build Fix

–ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—à—å –æ—à–∏–±–∫—É `Include of non-modular header inside framework module 'firebase_auth'`:

```bash
cd ios
rm -rf Pods Podfile.lock
pod install
cd ..
flutter clean
flutter run
```

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É —á—Ç–æ `firebase_auth` –±—ã–ª —É–¥–∞–ª—ë–Ω –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∑–∞–º–µ–Ω—ë–Ω –Ω–∞ SMS Traffic).

---

## ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç—å credentials –æ—Ç SMS Traffic

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ [smstraffic.ru](https://smstraffic.ru) –∏ –ø–æ–ª—É—á–∏:
- **Login** (–ª–æ–≥–∏–Ω –¥–ª—è API)
- **Password** (–ø–∞—Ä–æ–ª—å –¥–ª—è API)

### 2Ô∏è‚É£ –î–æ–±–∞–≤–∏—Ç—å credentials –≤ backend

**–ù–∞ VPS** (`194.32.141.227`):

```bash
# SSH –Ω–∞ VPS
ssh root@194.32.141.227

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é backend
cd memoir-python

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env
nano .env
```

–î–æ–±–∞–≤—å –≤ `.env`:
```env
SMS_TRAFFIC_LOGIN=—Ç–≤–æ–π_–ª–æ–≥–∏–Ω
SMS_TRAFFIC_PASSWORD=—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å
```

–°–æ—Ö—Ä–∞–Ω–∏: `Ctrl+O`, `Enter`, `Ctrl+X`

### 3Ô∏è‚É£ –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å backend

```bash
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down
docker-compose up -d --build

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs memoir-python-backend-1 -f
```

### 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å SMS Traffic:**
```bash
curl -X GET "https://multi.smstraffic.ru/multi.php?login=—Ç–≤–æ–π_–ª–æ–≥–∏–Ω&password=—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å&operation=balance"
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```xml
<balance>1234.56</balance>
```

**–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥:**
```bash
curl -X POST http://194.32.141.227:8000/api/v1/sms-auth/send-code \
  -H "Content-Type: application/json" \
  -d '{"phone_number": "77001234567"}'
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:
```json
{
  "success": true,
  "message": "Verification code sent",
  "sms_id": "...",
  "expires_in": 300
}
```

### 5Ô∏è‚É£ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
cd /Users/user/Documents/Projects/memoir
flutter run
```

1. –í–≤–µ–¥–∏ —Å–≤–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
2. –ù–∞–∂–º–∏ "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥"
3. –ü–æ–ª—É—á–∏—à—å SMS —Å –∫–æ–¥–æ–º
4. –í–≤–µ–¥–∏ –∫–æ–¥ ‚Üí —É—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥! üéâ

---

## üì± –§–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

**–í–∞–∂–Ω–æ!** –ù–æ–º–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ **–ë–ï–ó** –∑–Ω–∞–∫–∞ `+`:

‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
- `77001234567` (–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω)
- `79161234567` (–†–æ—Å—Å–∏—è)
- `375291234567` (–ë–µ–ª–∞—Ä—É—Å—å)

‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
- `+7 700 123 4567`
- `8 700 123 4567`
- `700 123 4567`

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

–ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ç—Ä–∞–Ω—ã –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞. –ü—Ä–∏–º–µ—Ä–Ω—ã–µ —Ü–µ–Ω—ã:
- **–†–æ—Å—Å–∏—è:** ~0.5-1.5 ‚ÇΩ –∑–∞ SMS
- **–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω:** ~5-10 ‚Ç∏ –∑–∞ SMS
- **–£–∫—Ä–∞–∏–Ω–∞:** ~0.3-0.5 –≥—Ä–Ω –∑–∞ SMS

–ü—Ä–æ–≤–µ—Ä—è–π –±–∞–ª–∞–Ω—Å —Ä–µ–≥—É–ª—è—Ä–Ω–æ!

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### "Failed to send SMS"
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –≤ `.env`
2. –ü—Ä–æ–≤–µ—Ä—å –±–∞–ª–∞–Ω—Å SMS Traffic
3. –£–±–µ–¥–∏—Å—å —á—Ç–æ backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω

### "SMS –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç"
1. –ü—Ä–æ–≤–µ—Ä—å —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ (–±–µ–∑ `+`)
2. –ü—Ä–æ–≤–µ—Ä—å –±–∞–ª–∞–Ω—Å SMS Traffic
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ backend: `docker logs memoir-python-backend-1`

### "Invalid verification code"
1. –ö–æ–¥ –∏—Å—Ç—ë–∫ (–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 5 –º–∏–Ω—É—Ç)
2. –ö–æ–¥ —É–∂–µ –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω
3. –ü—Ä–µ–≤—ã—à–µ–Ω–æ 3 –ø–æ–ø—ã—Ç–∫–∏ ‚Üí –∑–∞–ø—Ä–æ—Å–∏ –Ω–æ–≤—ã–π –∫–æ–¥

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `SMS_TRAFFIC_INTEGRATION.md`
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è SMS Traffic:** –°–º. —Ñ–∞–π–ª `SMSTraffic_API.pdf`
- **Firebase –¥–ª—è push:** `FIREBASE_SETUP.md` (–¥–ª—è –±—É–¥—É—â–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —ç—Ç–∏—Ö 5 —à–∞–≥–æ–≤ —É —Ç–µ–±—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—é—â–∞—è SMS –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ SMS Traffic! üöÄ

–í–æ–ø—Ä–æ—Å—ã? –°–º–æ—Ç—Ä–∏ `SMS_TRAFFIC_INTEGRATION.md` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

